
{% macro render_table(table_data, table_class="table-md table-hover w-auto", size="") %}
<div class="table-responsive">
    <table class="table {{ table_class }} {%- if size %}table-{{ size }}{%- endif %}">
        <thead{%- if table_data.header_class -%}class='{{ table_data.header_class }}'{%- endif -%}>
<tr>
{%- for header in table_data.headers %}
<th scope="col">{{ header }}</th>
{%- endfor %}
</tr>
</thead>
<tbody>
{%- for row in table_data.rows %}
<tr>
  {%- for cell in row -%}
{%- set formatted = cell|format_cell -%}
<td{%- if formatted.is_number %} class="text-end"{%- endif %}>{{ formatted.value }}</td>
{%- endfor %}
</tr>
{%- endfor %}
</tbody>
</table>
</div>
{%- endmacro %}


<!-- Sample Table -->
<!-- { -->
<!--     "headers": ["Product", "Price", "Quantity", "Total"], -->
<!--     "rows": [ -->
<!--         ["Widget A", "1250.50", "100", "125050"], -->
<!--         ["Widget B", "2400", "75", "180000"], -->
<!--         ["Widget C", "500.25", "200", "100050"] -->
<!--     ], -->
<!--     "caption": "Sales Data - Q1 2024" -->
<!-- } -->

{%- macro show_plot(filename, alt_text) -%}
<h3>{{ alt_text }}</h3>
<img class="img-fluid" src="{{ url_for('static', filename='plot/' + filename) }}" alt="{{ alt_text }}">
{%- endmacro %}


{% macro add_pron(text, feat='mora') -%}
{% if feat.startswith('mora') or feat.startswith('syll') -%}
{{ text }} /{{ text|hira2roma }}/
{%- else -%}
{{ text }}
{%- endif %}
{%- endmacro %}


{%- macro nav_tabs(type, items=None, current=None, src=None) -%}
<nav class="mb-4">
  <ul class="nav nav-tabs">
    {%- if type == 'feature' %}
      {%- for (feat1, feat2, name, possible) in items %}
      {%- if src in possible %}
    <li class="nav-item">
      <a class="nav-link {% if feat1 == current[0] and feat2 == current[1] %}active{% endif %}"
	 href="{{ url_for('feature', f1=feat1, f2=feat2, nm=name) }}">{{ name }}</a>
    </li>
      {%- endif %}
      {%- endfor %}
    {%- elif type == 'phenomena' %}
      {%- for (feat1, feat2, name) in items %}
    <li class="nav-item">
      <a class="nav-link {% if request.endpoint == feat1 %}active{% endif %}"
	 href="{{ url_for(feat1) }}">{{ name }}</a>
    </li>
      {%- endfor %}
    {%- elif type == 'docs' %}
      {%- set doc_pages = [
        ('docs_data', 'Data'),
        ('docs_download', 'Download'),
        ('docs_morae', 'Morae & Syllables'),
        ('docs_features', 'Features'),
        ('docs_licenses', 'Licenses'),
      ] %}
      {%- for (endpoint, label) in doc_pages %}
    <li class="nav-item">
      <a class="nav-link {% if request.endpoint == endpoint %}active{% endif %}"
	 href="{{ url_for(endpoint) }}">{{ label }}</a>
    </li>
      {%- endfor %}
    {%- endif %}
  </ul>
</nav>
{%- endmacro %}
